<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Patient Dashboard | V-Med ID</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="style.css">

  <script type="module">
    import { protectRoute } from "../../js/routeGuard.js";
    protectRoute("patient");
  </script>
</head>

<body>
<div class="dashboard-root">

  <aside class="sidebar">
    <div class="sidebar-header">
       <h2 class="logo">V-MED ID</h2>
    </div>
    
    <div class="profile-box">
      <strong id="userName">Loading...</strong>
      <div id="userVmed" class="small muted">VMED-XXXX-XXXX</div>
    </div>

    <nav class="nav-menu">
      <button class="nav-item active" onclick="loadPage('home')">Dashboard</button>
      <button class="nav-item" onclick="loadPage('history')">Medical History</button>
      <button class="nav-item" onclick="loadPage('medications')">Medications</button>
      <button class="nav-item" onclick="loadPage('settings')">Settings</button>
    </nav>
  </aside>

  <main class="main">
    <div id="content">
        <div class="loader">Loading your health records...</div>
    </div>
  </main>

</div>

<script type="module" src="./js/userData.js"></script>
<script type="module" src="./js/dashboard.js"></script>

</body>
</html>